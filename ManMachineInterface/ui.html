<!DOCTYPE HTML>
<html style="direction: ltr;" lang="fr">
	<head>
		<meta content="text/html; charset=UTF-8" http-equiv="content-type"/>
		<style type=text/css>
			body { background-image: url(http://localhost:8080/stream); background-repeat:no-repeat; background-position:center top; background-attachment:fixed; height:100% }
		</style>
		<style>input[type="range"].vVertical {
		   -webkit-appearance: slider-vertical;
		   background-color: pink;
		   width: 10px;
		   height:200px;
			}
		input[type="range"].vHorizon {
		   -webkit-appearance: none;
		   background-color: pink;
		   width: 200px;
		   height:10px;
			}
		</style>
	</head>
	<body>
		<h1>Robokite: kite automatic pilot user interface</h1>
		<form action = "">
			<fieldset>
				<legend>Control mode selection</legend>
				<p>
					<label>Control mode:
					</label>
					<output id="controlMode">joystick</output>
					<br/>
					<input type = "radio"
						name = "controlModeRequest"
						value = "manual"
						onclick = "setControlMode()" />
					<label>Manual</label>
					<input type = "radio"
						name = "controlModeRequest"
						value = "powerSteering"
						disabled="disabled"
						onclick = "setControlMode()"  />      
					<label>Power Steering (not implemented)</label> 
					<input type = "radio"
						name = "controlModeRequest"
						value = "joystick"
						checked = "checked"
						onclick = "setControlMode()"/>
					<label>Joystick</label>     
					<input type = "radio"
						name = "controlModeRequest"
						value = "automatic"
						onclick = "setControlMode()"  />
					<label>Automatic</label>
				</p>
				<p>
					<label>Setpoint origin:
					</label>
					<output id="setpointOrigin">browser</output>
					<br/>
					<input type = "radio"
						name = "setpointOriginRequest"
						value = "analog"
						checked = "checked"
						onclick = "setSetpointOrigin()"  />
					<label>Analog signal</label>
          
					<input type = "radio"
						name = "setpointOriginRequest"
						value = "browser" 
						onclick = "setSetpointOrigin()"/>
					<label>Browser</label>
 
				</p>
				<p>
					<label>Control variable:
					</label>
					<output id="controlVariable">motorVoltage</output>
					<br/>
					<input type = "radio"
						name = "controlVariableRequest"
						value = "motorVoltage"
						checked = "checked"
						onclick = "setControlVariable()" />
					<label>Motor voltage</label>
          
					<input type = "radio"
						name = "controlVariableRequest"
						value = "motorPosition"
						onclick = "setControlVariable()" />
					<label>Motor position</label>
          
					<input type = "radio"
						name = "controlVariableRequest"
						value = "kiteState"
						onclick = "setControlVariable()" />
					<label>Kite state</label>
				</p>
			</fieldset>
			<fieldset>
				<legend>Setpoints</legend>
				<p>
					<label>Setpoint 1:   </label>
					<input id = "setpoint1Number"
						type = "number"
						min = "-100"
						max = "100"
						value = "0"
						step = "1"
						onchange = "updateSetpoint1Number()" />
					<br/>
					100%
					<br/>
					<input id = "setpoint1Range"
						type = "range"
						class="vVertical"
						min = "-100"
						max = "100"
						value = "0"
						step = "1"
						onchange = "updateSetpoint1Range()" />
					<br/>
					-100%
				</p>
					<label>Setpoint 2:   </label>
					<input id = "setpoint2Number"
						type = "number"
						min = "-100"
						max = "100"
						value = "0"
						step = "1"
						onchange = "updateSetpoint2Number()" />
					<br/>
					-100%
					<input id = "setpoint2Range"
						type = "range"
						class="vHorizon"
						min = "-100"
						max = "100"
						value = "0"
						step = "1"
						onchange = "updateSetpoint2Range()" />
					100%
				</p>
			</fieldset>
			<fieldset>
				<legend>Gain tuning</legend>
				<p>
					<label>KpRollToBarAngle:  </label>
					<input id = "KpRollNumber"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKpRollNumber()" />
					<br/>
					0%
					<input id = "KpRollRange"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKpRollRange()" />
					300%
				</p>
				<p>
					<label>KdRollToBarAngle:  </label>
					<input id = "KdRollNumber"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKdRollNumber()" />
					<br/>
					0%
					<input id = "KdRollRange"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKdRollRange()" />
					300%
				</p>
				<p>
					<label>KiRollToBarAngle:  </label>
					<input id = "KiRollNumber"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKiRollNumber()" />
					<br/>
					0%
					<input id = "KiRollRange"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKiRollRange()" />
					300%
				</p>
			</fieldset>
			<fieldset>
				<p>
					<label>Kp1:  </label>
					<input id = "Kp1Number"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKp1Number()" />
					<br/>
					0%
					<input id = "Kp1Range"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKp1Range()" />
					300%
				</p>
				<p>
					<label>Kd1:  </label>
					<input id = "Kd1Number"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKd1Number()" />
					<br/>
					0%
					<input id = "Kd1Range"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKd1Range()" />
					300%
				</p>
				<p>
					<label>Ki1:  </label>
					<input id = "Ki1Number"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKi1Number()" />
					<br/>
					0%
					<input id = "Ki1Range"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKi1Range()" />
					300%
				</p>
			</fieldset>
			<fieldset>
				<p>
					<label>KpBarAngleToV2:  </label>
					<input id = "Kp2Number"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKp2Number()" />
					<br/>
					0%
					<input id = "Kp2Range"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKp2Range()" />
					300%
				</p>
				<p>
					<label>KdBarAngleToV2:  </label>
					<input id = "Kd2Number"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKd2Number()" />
					<br/>
					0%
					<input id = "Kd2Range"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKd2Range()" />
					300%
				</p>
				<p>
					<label>KiBarAngleToV2:  </label>
					<input id = "Ki2Number"
						type = "number"
						min = "0"
						max = "300"
						value = "100"
						step = "1"
						onchange = "updateKi2Number()" />
					<br/>
					0%
					<input id = "Ki2Range"
						type = "range"
						min = "0"
						max = "300"
						value = "100"
						onchange = "updateKi2Range()" />
					300%
				</p>
			</fieldset>
			<p>Server feedback: 
				<output id = "serverFeedback">
					Not connected to server
				</output>
			</p>
		</form>
		<script type = "text/javascript" language="javascript"
			src = "static/script.js" charset="utf-8">
		</script>
		<script type = "text/javascript" language="javascript"
			src = "static/scriptJoy.js" charset="utf-8">
		</script>
	</body>
</html>
            
